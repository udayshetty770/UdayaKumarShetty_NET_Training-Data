Longest Palindromic Substring

Given a string s, return the longest palindromic substring in s.

 

Example 1:

Input: s = "babad"
Output: "bab"
Explanation: "aba" is also a valid answer.
Example 2:

Input: s = "cbbd"
Output: "bb"
 

Constraints:

1 <= s.length <= 1000
s consist of only digits and English letters.


Solutions : 


public class Solution{    public string LongestPalindrome(string s)
        {
            char[] newStr = new char[s.Length * 2 + 1];
            newStr[0] = '#';
            for (int i = 0; i < s.Length; i++)
            {
                newStr[2 * i + 1] = s[i];
                newStr[2 * i + 2] = '#';
            }

            int[] dp = new int[newStr.Length];
            int friendCenter = 0;
            int friendRadius = 0;
            int lpsCenter = 0;
            int lpsRadius = 0;

            for (int i = 0; i < newStr.Length; i++)
            {
                dp[i] = (friendCenter + friendRadius > i)
                    ? Math.Min(dp[2 * friendCenter - i], (friendCenter + friendRadius) - i)
                    : 1;

                while (i + dp[i] < newStr.Length &&
                       i - dp[i] >= 0 &&
                       newStr[i + dp[i]] == newStr[i - dp[i]])
                {
                    dp[i]++;
                }

                if (i + dp[i] > friendCenter + friendRadius)
                {
                    friendCenter = i;
                    friendRadius = dp[i];
                }

                if (dp[i] > lpsRadius)
                {
                    lpsCenter = i;
                    lpsRadius = dp[i];
                }
            }

            int start = (lpsCenter - lpsRadius + 1) / 2;
            int end = (lpsCenter + lpsRadius - 1) / 2;
            return s.Substring(start, end - start);
        }
    }